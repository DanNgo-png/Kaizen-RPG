<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Custom Analytics - Kaizen RPG</title>
</head>

<body>
  <div class="custom-container">

    <!-- Header -->
    <header class="custom-header">
      <h2><i class="fa-solid fa-filter" style="color: #a78bfa;"></i> Custom Analytics</h2>

      <div class="range-controls">
        <span class="range-label">From:</span>
        <div class="date-input-wrapper">
          <input type="date" id="custom-date-start" class="date-input">
        </div>

        <span class="range-label">To:</span>
        <div class="date-input-wrapper">
          <input type="date" id="custom-date-end" class="date-input">
        </div>

        <button id="btn-apply-custom" class="btn-apply">Apply</button>
      </div>
    </header>

    <!-- KPI Grid -->
    <div class="analytics-grid">

      <!-- KPI 1 -->
      <div class="a-card kpi-card">
        <div class="kpi-icon icon-blue"><i class="fa-regular fa-clock"></i></div>
        <span class="kpi-title">Total Focus</span>
        <span id="custom-kpi-time" class="kpi-val">0h 0m</span>
        <span id="custom-kpi-avg" class="kpi-meta">Avg 0m / day</span>
      </div>

      <!-- KPI 2 -->
      <div class="a-card kpi-card">
        <div class="kpi-icon icon-purple"><i class="fa-solid fa-layer-group"></i></div>
        <span class="kpi-title">Total Sessions</span>
        <span id="custom-kpi-sessions" class="kpi-val">0</span>
        <span id="custom-kpi-ratio" class="kpi-meta">--</span>
      </div>

      <!-- KPI 3 -->
      <div class="a-card kpi-card">
        <div class="kpi-icon icon-green"><i class="fa-regular fa-calendar-check"></i></div>
        <span class="kpi-title">Days Active</span>
        <span id="custom-kpi-days" class="kpi-val">0 / 0</span>
        <span id="custom-kpi-consistency" class="kpi-meta">0% consistency</span>
      </div>

    </div>

    <!-- Distribution & Trend -->
    <div class="distribution-grid">

      <!-- Trend Chart -->
      <div class="a-card">
        <div class="chart-header">
          <div class="chart-title">Focus Trend</div>
        </div>

        <div class="trend-container">
          <div id="custom-y-axis" class="y-axis">
            <span>Max</span><span>Avg</span><span>0h</span>
          </div>
          <div class="grid-lines">
            <div class="line"></div>
            <div class="line"></div>
            <div class="line"></div>
          </div>

          <!-- JS Injects Bars Here -->
          <div id="custom-trend-bars"
            style="display: flex; align-items: flex-end; justify-content: space-between; flex: 1; height: 100%; gap: 2px;">
            <!-- Dynamic Content -->
          </div>
        </div>
      </div>

      <!-- Tag Breakdown -->
      <div class="a-card">
        <div class="chart-header">
          <div class="chart-title">Tag Distribution</div>
        </div>

        <div class="donut-container">
          <div id="custom-donut-chart" class="donut-chart"></div>
        </div>

        <div id="custom-legend" class="legend" style="margin-top: 20px;">
          <!-- Dynamic Content -->
        </div>
      </div>

    </div>

  </div>
</body>

</html>