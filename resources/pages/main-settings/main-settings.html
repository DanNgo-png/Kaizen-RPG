<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Main Settings - Kaizen RPG</title>
</head>

<body>
  <MAIN_SETTINGS_CONTAINER class="main-settings-container">

    <!-- Header -->
    <div class="ms-header">
      <div class="ms-icon-box">
        <i class="fa-solid fa-gear"></i>
      </div>
      <div class="ms-title">
        <h2>Settings</h2>
        <p>Configure preferences, manage data, and view system info.</p>
      </div>
    </div>

    <!-- Tab Navigation -->
    <div class="ms-tabs-nav">
      <button class="ms-tab-btn active" data-tab="tab-appearance">
        <i class="fa-solid fa-palette"></i> Appearance
      </button>
      <button class="ms-tab-btn" data-tab="tab-system">
        <i class="fa-solid fa-desktop"></i> System
      </button>
      <button class="ms-tab-btn" data-tab="tab-data">
        <i class="fa-solid fa-database"></i> Data & Storage
      </button>
      <button class="ms-tab-btn" data-tab="tab-productivity">
        <i class="fa-solid fa-bullseye"></i> Productivity
      </button>
      <button class="ms-tab-btn" data-tab="tab-about">
        <i class="fa-solid fa-circle-info"></i> About
      </button>
    </div>

    <!-- Content Area -->
    <div class="ms-content-area">

      <!-- PANEL 1: APPEARANCE -->
      <div id="tab-appearance" class="ms-tab-panel active">
        <div class="ms-card">
          <div class="ms-card-header">
            Visual Preferences
          </div>

          <!-- Theme -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Theme</span>
              <span class="ms-desc">Select application color scheme</span>
            </div>
            <select class="ms-select">
              <option value="system">System Default</option>
              <option value="dark" selected>Dark Mode</option>
              <option value="light">Light Mode</option>
            </select>
          </div>

          <!-- Font Family -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Font Family</span>
              <span class="ms-desc">Import .ttf files to /resources/assets/fonts/</span>
            </div>
            <div style="display: flex; gap: 10px;">
              <button id="btn-open-fonts" class="ms-btn" title="Open Fonts Folder">
                <i class="fa-regular fa-folder-open"></i>
              </button>
              <select id="setting-font-family" class="ms-select" style="width: 200px;">
                <optgroup label="Standard">
                  <option value="segoe" selected>Segoe UI (Default)</option>
                  <option value="arial">Arial</option>
                  <option value="inter">Inter</option>
                  <option value="roboto">Roboto</option>
                  <option value="system">System Sans-Serif</option>
                  <option value="mono">Monospace</option>
                </optgroup>
                <!-- Custom Group will be injected by JS -->
              </select>
            </div>
          </div>

          <!-- Sidebar -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Sidebar Behavior</span>
              <span class="ms-desc">Auto-collapse sidebar on small screens</span>
            </div>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider round"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- PANEL 2: SYSTEM -->
      <div id="tab-system" class="ms-tab-panel">
        <div class="ms-card">
          <div class="ms-card-header">
            Application Behavior
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Run on Startup</span>
              <span class="ms-desc">Launch Kaizen RPG when computer starts</span>
            </div>
            <label class="switch">
              <input type="checkbox" id="setting-run-startup">
              <span class="slider round"></span>
            </label>
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Startup View</span>
              <span class="ms-desc">Select default screen</span>
            </div>
            <select class="ms-select">
              <option value="overview">Dashboard Overview</option>
              <option value="focus">Focus Timer</option>
              <option value="todo">Todo Lists</option>
              <option value="kanban">Kanban Board</option>
              <option value="game">Game Menu</option>
              <option value="empire">Empire Builder</option>
            </select>
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Heatmap Click Action</span>
              <span class="ms-desc">Navigation when clicking a Year/Month day</span>
            </div>
            <select id="setting-heatmap-click" class="ms-select">
              <option value="review">Go to Review Log</option>
              <option value="analyze_day">Go to Day Analytics</option>
              <option value="ask">Always Ask</option>
              <option value="none">Disable Navigation</option>
            </select>
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Close to Tray</span>
              <span class="ms-desc">Keep running in background when closed</span>
            </div>
            <label class="switch">
              <input type="checkbox" checked>
              <span class="slider round"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- PANEL 3: DATA & STORAGE -->
      <div id="tab-data" class="ms-tab-panel">
        <div class="ms-card">
          <div class="ms-card-header">
            File Management
          </div>

          <!-- Data Location -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Data Location</span>
              <span class="ms-desc">/data/saves/</span>
            </div>
            <button class="ms-btn"><i class="fa-regular fa-folder-open"></i> Open Folder</button>
          </div>

          <!-- Backup Data -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Backup Data</span>
              <span class="ms-desc">Create a local snapshot of your progress</span>
            </div>
            <button class="ms-btn"><i class="fa-solid fa-download"></i> Backup Now</button>
          </div>
        </div>

        <br>

        <!-- Danger Zone -->
        <div class="ms-card" style="border-color: rgba(239, 68, 68, 0.3);">
          <div class="ms-card-header" style="color: #f87171; background-color: rgba(239, 68, 68, 0.05);">
            <i class="fa-solid fa-triangle-exclamation"></i> Danger Zone
          </div>

          <!-- Clear Focus History -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label" style="color: #fbbf24;">Clear Analysis Data</span>
              <span class="ms-desc">Wipe focus sessions, streaks, and calendar history</span>
            </div>
            <button id="btn-clear-focus-data" class="ms-btn"
              style="border: 1px solid rgba(251, 191, 36, 0.5); color: #fbbf24; background: rgba(251, 191, 36, 0.1);">
              <i class="fa-solid fa-eraser"></i> Clear History
            </button>
          </div>

          <!-- Reset to Defaults -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label" style="color: #f87171;">Reset Config</span>
              <span class="ms-desc">Restore original application settings</span>
            </div>
            <button class="ms-btn"
              style="border: 1px solid rgba(239, 68, 68, 0.5); color: #f87171; background: rgba(239, 68, 68, 0.1);">
              <i class="fa-solid fa-rotate-left"></i> Reset
            </button>
          </div>

          <!-- Reset Game Data -->
          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label" style="color: #f87171;">Wipe Game Data</span>
              <span class="ms-desc">Permanently delete all RPG progress</span>
            </div>
            <button id="btn-reset-game-data" class="ms-btn"
              style="border: 1px solid rgba(239, 68, 68, 0.5); color: #f87171; background: rgba(239, 68, 68, 0.1);">
              <i class="fa-solid fa-skull"></i> Wipe Data
            </button>
          </div>
        </div>
      </div>

      <!-- PANEL 4: PRODUCTIVITY -->
      <div id="tab-productivity" class="ms-tab-panel">
        <div class="ms-card">
          <div class="ms-card-header">
            Focus Configuration
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Daily Focus Goal</span>
              <span class="ms-desc">Minutes required to maintain streak</span>
            </div>
            <input type="text" inputmode="numeric" pattern="\d*" id="setting-daily-goal" class="ms-select"
              style="width: 80px; padding-right: 10px; text-align: center;" value="15">
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Mute Sounds</span>
              <span class="ms-desc">Silence all timer alerts</span>
            </div>
            <label class="switch">
              <input type="checkbox" id="setting-mute-audio">
              <span class="slider round"></span>
            </label>
          </div>
        </div>
      </div>

      <!-- PANEL 5: ABOUT -->
      <div id="tab-about" class="ms-tab-panel">
        <div class="ms-card">
          <div class="ms-card-header">
            Software Information
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Current Version</span>
              <span class="ms-desc">Checking for updates...</span>
            </div>
            <div class="version-badge">v1.0.0-alpha</div>
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Changelog</span>
              <span class="ms-desc">View recent changes and features</span>
            </div>
            <button class="ms-btn">View Notes</button>
          </div>

          <div class="ms-row">
            <div class="ms-info">
              <span class="ms-label">Check for Updates</span>
            </div>
            <button class="ms-btn ms-btn-primary">Check Now</button>
          </div>
        </div>

        <div class="about-footer">
          <p>Kaizen RPG &copy; 2025. Built with Neutralinojs.</p>
        </div>
      </div>

    </div> <!-- End Content Area -->

  </MAIN_SETTINGS_CONTAINER>

  <!-- MODAL: Clear History Confirmation -->
  <div id="modal-clear-history" class="clear-history-modal-overlay hidden">
    <div class="clear-history-modal-content">
      <div class="clear-history-modal-header-icon text-red">
        <i class="fa-solid fa-triangle-exclamation"></i>
      </div>
      <h3>Delete All Data?</h3>
      <p>
        You are about to wipe <b>all focus sessions, streaks, and analytics history</b>.
        This action is permanent and cannot be undone.
      </p>
      <div class="clear-history-modal-actions">
        <button id="clear-history-btn-cancel-clear" class="ms-btn">Cancel</button>
        <button id="clear-history-btn-confirm-clear" class="ms-btn clear-history-btn-danger-solid">
          <i class="fa-solid fa-trash"></i> Yes, Delete Everything
        </button>
      </div>
    </div>
  </div>
</body>

</html>